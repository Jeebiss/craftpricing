<!doctype html>
<html>
	<head>
		<title>CraftPricing</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-git.css">
		<script src="http://code.jquery.com/qunit/qunit-git.js"></script>
		<script src="js/craftpricing.js"></script>
		<script>
			$.getJSON('js/recipes.js', function(json){

				CraftPricing.load(json);
				CraftPricing.sanity_check();

				test("woodplanks", function() {
					var item = CraftPricing.getItem( "woodplanks" );
					equal( item.sell, 0.25);
					equal( item.buy, .125);
				});

				test("stick", function() {
					var item = CraftPricing.getItem( "stick" );
					equal( item.sell, .125);
					equal( item.buy, .0625);
				});

				test("torch", function() {
					var item = CraftPricing.getItem( "torch" );
					equal( item.sell, 1.53125);
					equal( item.buy, 1.015625);
				});

				test("fishingrod", function() {
					var item = CraftPricing.getItem( "fishingrod" );
					equal( item.sell, 60.375);
					equal( item.buy, 40.1875);
				});
				
				test("glass", function() {
					var item = CraftPricing.getItem( "glass" );
					equal( item.sell, 0.9375);
					equal( item.buy, 0.78125);
				});

				test("lapisblock", function() {
					var item = CraftPricing.getItem( "lapisblock" );
					equal( item.sell, 630);
					equal( item.buy, 540);
				});

				test("goldblock", function() {
					var item = CraftPricing.getItem( "goldblock" );
					equal( item.sell, 2268);
					equal( item.buy, 2106);
				});

				test("enchantmenttable", function() {
					var item = CraftPricing.getItem( "enchantmenttable" );
					equal( item.sell, 1121.875);
					equal( item.buy, 961.40625);
				});

				test("diamondpickaxe", function() {
					var item = CraftPricing.getItem( "diamondpickaxe" );
					equal( item.sell, 1200.25);
					equal( item.buy, 1080.125);
				});

				test("claybrick", function() {
					var item = CraftPricing.getItem( "claybrick" );
					equal( item.sell, 10.75);
					equal( item.buy, 8.5);
				});

				test("clock", function() {
					var item = CraftPricing.getItem( "clock" );
					equal( item.sell, 1020.5);
					equal( item.buy, 943.5);
				});

				test("purple", function() {
					var item = CraftPricing.getItem( "purple" );
					equal( item.sell, 35.234375);
					equal( item.buy, 30.15625);
				});

				test("cake", function() {
					var item = CraftPricing.getItem( "cake" );
					equal( item.sell, 618.25);
					equal( item.buy, 516.9375);
				});

				test("waterbottle", function() {
					var item = CraftPricing.getItem( "waterbottle" );
					equal( item.sell, 0.9375);
					equal( item.buy, 0.78125 );
				});

				test("awkwardbase", function() {
					var item = CraftPricing.getItem( "awkwardbase" );
					equal( item.sell, 2.6041666666666665);
					equal( item.buy, 1.6145833333333333);
				});

				test("regen1", function() {
					var item = CraftPricing.getItem( "regen1" );
					equal( item.sell, 135.9375);
					equal( item.buy, 121.61458333333333);
				});

				test("health2", function() {
					var item = CraftPricing.getItem( "health2" );
					equal( item.sell, 14.020833333333334);
					equal( item.buy, 11.28125);
				});

				test("fermentedeye", function() {
					var item = CraftPricing.getItem( "fermentedeye" );
					equal( item.sell, 40.625);
					equal( item.buy, 20.46875);
				});

				test("splashregen2", function() {
					var item = CraftPricing.getItem( "splashregen2" );
					equal( item.sell, 169.6875);
					equal( item.buy, 148.61458333333334);
				});

				// Log all base materials to console
				// CraftPricing.allBaseMaterials();

			});
		</script>
	</head>
	<body>
		<h1 id="qunit-header">CraftPricing QUnit</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		<div id="qunit-fixture">test markup, will be hidden</div>
	</body>
</html>