<!doctype html>
<html>
	<head>
		<title>CraftPricing</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-git.css">
		<script src="http://code.jquery.com/qunit/qunit-git.js"></script>
		<script src="js/craftpricing.js"></script>
		<script>
			$.getJSON('js/recipes.js', function(json){

				CraftPricing.load(json);
				CraftPricing.sanity_check();

				test("woodplanks", function() {
					var item = CraftPricing.getItem( "woodplanks" );
					equal( item.sell, 1.25);
					equal( item.buy, .625);
				});

				test("stick", function() {
					var item = CraftPricing.getItem( "stick" );
					equal( item.sell, .625);
					equal( item.buy, .3125);
				});

				test("torch", function() {
					var item = CraftPricing.getItem( "torch" );
					equal( item.sell, 1.65625);
					equal( item.buy, 1.078125);
				});

				test("fishingrod", function() {
					var item = CraftPricing.getItem( "fishingrod" );
					equal( item.sell, 61.875);
					equal( item.buy, 40.9375);
				});
				
				test("glass", function() {
					var item = CraftPricing.getItem( "glass" );
					equal( item.sell, 0.9375);
					equal( item.buy, 0.78125);
				});

				test("lapisblock", function() {
					var item = CraftPricing.getItem( "lapisblock" );
					equal( item.sell, 630);
					equal( item.buy, 540);
				});

				test("goldblock", function() {
					var item = CraftPricing.getItem( "goldblock" );
					equal( item.sell, 2340);
					equal( item.buy, 2160);
				});

				test("enchantmenttable", function() {
					var item = CraftPricing.getItem( "enchantmenttable" );
					equal( item.sell, 1121.875);
					equal( item.buy, 961.40625);
				});

				test("diamondpickaxe", function() {
					var item = CraftPricing.getItem( "diamondpickaxe" );
					equal( item.sell, 1201.25);
					equal( item.buy, 1080.625);
				});

				test("claybrick", function() {
					var item = CraftPricing.getItem( "claybrick", true );
					equal( item.sell, 10.75);
					equal( item.buy, 8.5);
				});

				test("clock", function() {
					var item = CraftPricing.getItem( "clock" );
					equal( item.sell, 1052.5);
					equal( item.buy, 967.5);
				});

				test("purple", function() {
					var item = CraftPricing.getItem( "purple" );
					equal( item.sell, 35.234375);
					equal( item.buy, 30.15625);
				});

				test("cake", function() {
					var item = CraftPricing.getItem( "cake" );
					equal( item.sell, 618.25);
					equal( item.buy, 516.9375);
				});

			});
		</script>
	</head>
	<body>
		<h1 id="qunit-header">CraftPricing QUnit</h1>
		<h2 id="qunit-banner"></h2>
		<div id="qunit-testrunner-toolbar"></div>
		<h2 id="qunit-userAgent"></h2>
		<ol id="qunit-tests"></ol>
		<div id="qunit-fixture">test markup, will be hidden</div>
	</body>
</html>